{"version":3,"sources":["utils/date.ts","utils/classnames.ts","constants/string.ts","components/exercise/utils.ts","components/exercise/index.tsx","components/more-icon/index.tsx","utils/string.ts","components/workout/index.tsx","utils/number.ts","constants/seeds.ts","components/week-container/utils.ts","components/week-container/index.tsx","App.tsx","reportWebVitals.ts","index.tsx","components/week-container/styles.module.css","components/exercise/styles.module.css","components/workout/styles.module.css"],"names":["getDate2Digits","date","toLocaleString","day","getWeekDay","weekday","isToday","today","Date","getDate","getMonth","getFullYear","classnames","args","classes","map","arg","Array","isArray","flat","Object","entries","key","filter","Boolean","join","WORKOUT_EXERCISES_PREFIX","WORKOUT_CONTAINER_PREFIX","getSetDescription","reps","weight","ExerciseComponent","name","sets","className","container","description","length","grow","setDescription","Exercise","memo","displayName","MoreIconComponent","width","height","viewBox","fill","xmlns","cx","cy","r","MoreIcon","normalize","str","replace","WorkoutComponent","workoutName","exercises","workoutIndex","index","header","type","moreButton","droppableId","provided","droppableProps","ref","innerRef","exercise","exIndex","draggableId","draggableProps","dragHandleProps","placeholder","Workout","randomIntegerInRange","start","end","Math","floor","random","randomInRange","WORKOUTS","part","undefined","_","swapArray","items","fromIndex","toIndex","some","x","Error","item","array","extractWorkoutDroppableId","split","weekdayAndWorkoutIndex","match","exec","result","groups","Number","extractWorkoutContainerDroppableId","removeArrayAtPosition","cloned","from","splice","insertArrayAtPosition","useWeekContainer","useState","workouts","reduce","prev","wk","weekDay","prepareWorkoutsState","setWorkouts","handleDragEnd","useCallback","source","destination","includes","every","srcWorkoutName","srcWorkoutIndex","srcWeekday","wks","wkIndex","dstWorkoutName","dstWorkoutIndex","dstWeekday","prevWks","srcExercise","currentWeekDates","firstDay","getDay","setDate","getCurrentWeekDates","WeekContainerComponent","onDragEnd","data-testid","dayWorkouts","workout","toString","WeekContainer","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById","module","exports"],"mappings":"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","file":"static/js/main.a57daf43.chunk.js","sourcesContent":["export const getCurrentWeekDates = () => {\n  const today = new Date();\n\n  // Start from Mon instead of Sun\n  const firstDay = today.getDate() - today.getDay() + 1;\n\n  return new Array(7).fill(undefined).map((_, index) => {\n    return new Date(new Date().setDate(firstDay + index));\n  });\n};\n\nexport const getDate2Digits = (date: Date) =>\n  date.toLocaleString('en-us', { day: '2-digit' });\n\nexport const getWeekDay = (date: Date) =>\n  date.toLocaleString('en-us', { weekday: 'short' });\n\nexport const isToday = (date: Date) => {\n  const today = new Date();\n  return (\n    date.getDate() === today.getDate() &&\n    date.getMonth() === today.getMonth() &&\n    date.getFullYear() === today.getFullYear()\n  );\n};\n","const classnames = (...args: any[]) => {\n  const classes = args.map((arg) => {\n    if (typeof arg === 'string') return arg;\n    if (Array.isArray(arg)) return arg.flat();\n    if (typeof arg === 'object') {\n      return Object.entries(arg).map(([key, value]) => {\n        if (value) return key;\n        return '';\n      });\n    }\n    return '';\n  });\n  return classes.flat().filter(Boolean).join(' ');\n};\n\nexport default classnames;\n","export const WORKOUT_EXERCISES_PREFIX = '-workout-exercises-';\nexport const WORKOUT_CONTAINER_PREFIX = '-workout-container-';\n","import { WorkoutExercise, WorkoutExerciseSet } from 'types/common';\n\nexport const getSetDescription = ({ reps, weight }: WorkoutExerciseSet) => {\n  return `${weight} lb x ${reps}`;\n};\n\nexport const getExerciseDescription = ({ sets }: WorkoutExercise) => {\n  return sets.map(getSetDescription).join(', ');\n};\n","import { memo } from 'react';\nimport { WorkoutExercise } from 'types/common';\nimport { getExerciseDescription } from './utils';\nimport classes from './styles.module.css';\n\nexport const ExerciseComponent: React.FC<ExerciseProps> = ({ name, sets }) => (\n  <div className={classes.container}>\n    <p className={classes.name}>{name}</p>\n    <div className={classes.description}>\n      <span>{sets.length}x</span>\n      <div className={classes.grow}></div>\n      <div className={classes.setDescription}>\n        <span>\n          {getExerciseDescription({\n            name,\n            sets,\n          })}\n        </span>\n      </div>\n    </div>\n  </div>\n);\n\nconst Exercise = memo(ExerciseComponent);\nExercise.displayName = 'Exercise';\n\nexport default Exercise;\n\nexport type ExerciseProps = WorkoutExercise;\n","import { memo } from 'react';\n\nexport const MoreIconComponent: React.FC = () => (\n  <svg\n    width=\"11\"\n    height=\"3\"\n    viewBox=\"0 0 11 3\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <circle cx=\"1.5\" cy=\"1.5\" r=\"1.5\" fill=\"#C4C4C4\" />\n    <circle cx=\"5.5\" cy=\"1.5\" r=\"1.5\" fill=\"#C4C4C4\" />\n    <circle cx=\"9.5\" cy=\"1.5\" r=\"1.5\" fill=\"#C4C4C4\" />\n  </svg>\n);\n\nconst MoreIcon = memo(MoreIconComponent);\nMoreIcon.displayName = 'MoreIcon';\n\nexport default MoreIcon;\n","export const normalize = (str: string) => str.replace(/\\s/g, '-');\n","import { memo } from 'react';\nimport { Droppable, Draggable } from 'react-beautiful-dnd';\nimport { WorkoutContainer } from 'types/common';\nimport { WORKOUT_EXERCISES_PREFIX } from 'constants/string';\nimport Exercise from '../exercise';\nimport MoreIcon from '../more-icon';\nimport classes from './styles.module.css';\nimport { normalize } from 'utils/string';\n\nexport const WorkoutComponent: React.FC<WorkoutProps> = ({\n  name: workoutName,\n  exercises,\n  index: workoutIndex,\n  weekday,\n}) => {\n  return (\n    <div className={classes.container}>\n      <div className={classes.header}>\n        <div className={classes.name}>\n          <span>{workoutName}</span>\n        </div>\n        <button type=\"button\" className={classes.moreButton}>\n          <MoreIcon />\n        </button>\n      </div>\n      <Droppable\n        droppableId={`${weekday}-${workoutIndex}-${WORKOUT_EXERCISES_PREFIX}${normalize(\n          workoutName,\n        )}`}\n      >\n        {(provided) => (\n          <div\n            {...provided.droppableProps}\n            ref={provided.innerRef}\n            className={classes.exercises}\n          >\n            {exercises.map((exercise, exIndex) => (\n              <Draggable\n                key={`${weekday}-${workoutIndex}-${normalize(\n                  exercise.name,\n                )}-${exIndex}`}\n                draggableId={`${weekday}-${workoutIndex}-${normalize(\n                  exercise.name,\n                )}-${exIndex}`}\n                index={exIndex}\n              >\n                {(provided) => (\n                  <div\n                    ref={provided.innerRef}\n                    {...provided.draggableProps}\n                    {...provided.dragHandleProps}\n                  >\n                    <Exercise {...exercise} />\n                  </div>\n                )}\n              </Draggable>\n            ))}\n            {provided.placeholder}\n          </div>\n        )}\n      </Droppable>\n    </div>\n  );\n};\n\nconst Workout = memo(WorkoutComponent);\nWorkout.displayName = 'Workout';\n\nexport default Workout;\n\nexport interface WorkoutProps extends WorkoutContainer {\n  index: number;\n  weekday: number;\n}\n","export const randomInRange = (start: number, end: number) =>\n  Math.random() * (end - start) + start;\n\nexport const randomIntegerInRange = (start: number, end: number) =>\n  Math.floor(randomInRange(start, end));\n","import { WorkoutContainer } from 'types/common';\nimport { randomIntegerInRange } from 'utils/number';\n\nexport const WORKOUTS: WorkoutContainer[] = [\n  'Chest',\n  'Leg',\n  'Arm',\n  'Shoulder',\n  'Back',\n  'Abs',\n].map((part) => ({\n  name: `${part} day`,\n  exercises: new Array(randomIntegerInRange(1, 4))\n    .fill(undefined)\n    .map((_, index) => ({\n      name: `${part} Ex${index + 1}`,\n      sets: new Array(randomIntegerInRange(2, 4))\n        .fill(undefined)\n        .map((_, index) => ({\n          weight: randomIntegerInRange(10, 50),\n          reps: randomIntegerInRange(6, 12),\n        })),\n    })),\n}));\n","import { useState, useCallback } from 'react';\nimport { DropResult } from 'react-beautiful-dnd';\nimport { WorkoutContainer } from 'types/common';\nimport {\n  WORKOUT_EXERCISES_PREFIX,\n  WORKOUT_CONTAINER_PREFIX,\n} from 'constants/string';\nimport { WORKOUTS } from 'constants/seeds';\nimport { normalize } from 'utils/string';\n\nexport const swapArray = <TItem = any>(\n  items: TItem[],\n  fromIndex: number,\n  toIndex: number,\n) => {\n  const length = items.length;\n  if ([fromIndex, toIndex].some((x) => x < 0 || x >= length))\n    throw new Error('Wrong index');\n  return items.map((item, index, array) => {\n    if (index === fromIndex) return array[toIndex];\n    if (index === toIndex) return array[fromIndex];\n    return item;\n  });\n};\n\nexport interface WorkoutsPerWeekDay {\n  [weekDay: number]: WorkoutContainer[];\n}\nexport const prepareWorkoutsState = (workouts: WorkoutContainer[]) => {\n  return workouts.reduce((prev, wk, weekDay) => {\n    return {\n      ...prev,\n      [weekDay]: [...(prev[weekDay] ?? []), wk],\n    };\n  }, {} as WorkoutsPerWeekDay);\n};\n\nexport const extractWorkoutDroppableId = (droppableId: string) => {\n  const [weekdayAndWorkoutIndex, workoutName] = droppableId.split(\n    WORKOUT_EXERCISES_PREFIX,\n  );\n  const match = /(?<weekday>\\d+)-(?<workoutIndex>\\d+)/.exec(\n    weekdayAndWorkoutIndex,\n  );\n  const result = {\n    workoutName,\n    weekday: -1,\n    workoutIndex: -1,\n  };\n\n  if (match?.groups) {\n    result.weekday = Number(match.groups.weekday);\n    result.workoutIndex = Number(match.groups.workoutIndex);\n  }\n\n  return result;\n};\n\nexport const extractWorkoutContainerDroppableId = (droppableId: string) => {\n  const weekday = droppableId.replace(WORKOUT_CONTAINER_PREFIX, '');\n  return {\n    weekday: Number(weekday),\n  };\n};\n\nexport const removeArrayAtPosition = <TItem = any>(\n  items: TItem[],\n  index: number,\n) => {\n  const cloned = Array.from(items);\n  cloned.splice(index, 1);\n  return cloned;\n};\n\nexport const insertArrayAtPosition = <TItem = any>(\n  items: TItem[],\n  index: number,\n  item: TItem,\n) => {\n  const cloned = Array.from(items);\n  cloned.splice(index, 0, item);\n\n  return cloned;\n};\n\nexport const useWeekContainer = () => {\n  const [workouts, setWorkouts] = useState(prepareWorkoutsState(WORKOUTS));\n  const handleDragEnd = useCallback((result: DropResult) => {\n    const { source, destination } = result;\n    if (!destination) return;\n\n    // swap exercises\n    if (\n      [\n        source.droppableId.includes(WORKOUT_EXERCISES_PREFIX),\n        destination.droppableId.includes(WORKOUT_EXERCISES_PREFIX),\n      ].every(Boolean)\n    ) {\n      const {\n        workoutName: srcWorkoutName,\n        workoutIndex: srcWorkoutIndex,\n        weekday: srcWeekday,\n      } = extractWorkoutDroppableId(source.droppableId);\n\n      // Case 1: in the same workout\n      if (\n        [\n          source.droppableId === destination.droppableId,\n          source.index !== destination.index,\n        ].every(Boolean)\n      ) {\n        setWorkouts((wks) => {\n          return {\n            ...wks,\n            [srcWeekday]: wks[srcWeekday].map((wk, wkIndex) => {\n              if (\n                wkIndex === srcWorkoutIndex &&\n                normalize(wk.name) === srcWorkoutName\n              ) {\n                return {\n                  ...wk,\n                  exercises: swapArray(\n                    wk.exercises,\n                    source.index,\n                    destination.index,\n                  ),\n                };\n              }\n              return wk;\n            }),\n          };\n        });\n        return;\n      }\n      // Case 2: Swap exercises between workouts\n      const {\n        workoutName: dstWorkoutName,\n        workoutIndex: dstWorkoutIndex,\n        weekday: dstWeekday,\n      } = extractWorkoutDroppableId(destination.droppableId);\n\n      setWorkouts((prevWks) => {\n        const srcExercise =\n          prevWks[srcWeekday][srcWorkoutIndex].exercises[source.index];\n        return {\n          ...prevWks,\n          [dstWeekday]: prevWks[dstWeekday].map((wk, wkIndex) => {\n            if (\n              wkIndex === dstWorkoutIndex &&\n              normalize(wk.name) === dstWorkoutName\n            ) {\n              return {\n                ...wk,\n                exercises: insertArrayAtPosition(\n                  wk.exercises,\n                  destination.index,\n                  srcExercise,\n                ),\n              };\n            }\n            return wk;\n          }),\n        };\n      });\n\n      // update srcWeekday workout container\n      setWorkouts((prevWks) => {\n        return {\n          ...prevWks,\n          [srcWeekday]: prevWks[srcWeekday].map((wk, wkIndex) => {\n            if (\n              wkIndex === srcWorkoutIndex &&\n              normalize(wk.name) === srcWorkoutName\n            ) {\n              return {\n                ...wk,\n                exercises: removeArrayAtPosition(wk.exercises, source.index),\n              };\n            }\n            return wk;\n          }),\n        };\n      });\n    }\n\n    // Swap workout containers\n    if (\n      [\n        source.droppableId.includes(WORKOUT_CONTAINER_PREFIX),\n        destination.droppableId.includes(WORKOUT_CONTAINER_PREFIX),\n      ].every(Boolean)\n    ) {\n      const { weekday: srcWeekday } = extractWorkoutContainerDroppableId(\n        source.droppableId,\n      );\n      const { weekday: dstWeekday } = extractWorkoutContainerDroppableId(\n        destination.droppableId,\n      );\n\n      // Case 1: Swap 2 workout containers together\n      if (srcWeekday === dstWeekday) {\n        setWorkouts((prevWks) => {\n          return {\n            ...prevWks,\n            [srcWeekday]: swapArray(\n              prevWks[srcWeekday],\n              source.index,\n              destination.index,\n            ),\n          };\n        });\n      }\n      // Case 2: Move workout container between weekdays\n      else {\n        setWorkouts((prevWks) => {\n          return {\n            ...prevWks,\n            [dstWeekday]: insertArrayAtPosition(\n              prevWks[dstWeekday],\n              destination.index,\n              prevWks[srcWeekday][source.index],\n            ),\n          };\n        });\n        setWorkouts((prevWks) => {\n          return {\n            ...prevWks,\n            [srcWeekday]: removeArrayAtPosition(\n              prevWks[srcWeekday],\n              source.index,\n            ),\n          };\n        });\n      }\n    }\n\n    // Ignore other cases\n    return;\n  }, []);\n\n  return {\n    workouts,\n    handleDragEnd,\n  };\n};\n","import { memo } from 'react';\nimport { DragDropContext, Droppable, Draggable } from 'react-beautiful-dnd';\nimport {\n  getCurrentWeekDates,\n  getDate2Digits,\n  getWeekDay,\n  isToday,\n} from 'utils/date';\nimport classnames from 'utils/classnames';\nimport { WORKOUT_CONTAINER_PREFIX } from 'constants/string';\nimport Workout from 'components/workout';\nimport { useWeekContainer } from './utils';\nimport classes from './styles.module.css';\n\nconst currentWeekDates = getCurrentWeekDates();\nexport const WeekContainerComponent: React.FC = () => {\n  const { workouts, handleDragEnd } = useWeekContainer();\n\n  return (\n    <DragDropContext onDragEnd={handleDragEnd}>\n      <div className={classes['week-container']} data-testid=\"week-container\">\n        {currentWeekDates.map((date) => {\n          const weekday = date.getDay();\n          const dayWorkouts = workouts[weekday] ?? [];\n          return (\n            <div key={date.toString()} className={classes['date-container']}>\n              <div className={classes['week-day']}>\n                <span>{getWeekDay(date)}</span>\n              </div>\n              <div className={classes['workout-container']}>\n                <div\n                  className={classnames(classes['workout-date'], {\n                    [classes.today]: isToday(date),\n                  })}\n                >\n                  <span>{getDate2Digits(date)}</span>\n                </div>\n                <Droppable\n                  droppableId={`${WORKOUT_CONTAINER_PREFIX}${weekday}`}\n                >\n                  {(provided) => (\n                    <div\n                      {...provided.droppableProps}\n                      ref={provided.innerRef}\n                      className={classes.workouts}\n                    >\n                      {dayWorkouts.map((workout, index) => (\n                        <Draggable\n                          key={`${workout.name}+${index}`}\n                          draggableId={`${workout.name}-${index}`}\n                          index={index}\n                        >\n                          {(provided) => (\n                            <div\n                              ref={provided.innerRef}\n                              {...provided.draggableProps}\n                              {...provided.dragHandleProps}\n                            >\n                              <Workout\n                                index={index}\n                                weekday={weekday}\n                                {...workout}\n                              />\n                            </div>\n                          )}\n                        </Draggable>\n                      ))}\n                      {provided.placeholder}\n                    </div>\n                  )}\n                </Droppable>\n              </div>\n            </div>\n          );\n        })}\n      </div>\n    </DragDropContext>\n  );\n};\n\nconst WeekContainer = memo(WeekContainerComponent);\nWeekContainer.displayName = 'WeekContainer';\n\nexport default WeekContainer;\n","import WeekContainer from './components/week-container';\n\nfunction App() {\n  return <WeekContainer />;\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"week-container\":\"styles_week-container__1xT6M\",\"date-container\":\"styles_date-container__1TtLn\",\"week-day\":\"styles_week-day__tmxY_\",\"workout-container\":\"styles_workout-container__jpifA\",\"workouts\":\"styles_workouts__3gHuC\",\"workout-date\":\"styles_workout-date__ju2FI\",\"today\":\"styles_today__3esYg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"styles_container__3GsFh\",\"name\":\"styles_name__38_G4\",\"description\":\"styles_description__8SDM3\",\"grow\":\"styles_grow__2WnA1\",\"setDescription\":\"styles_setDescription__1-0Qd\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"styles_container__GtiYD\",\"header\":\"styles_header__2V5RO\",\"name\":\"styles_name__D9pU6\",\"moreButton\":\"styles_moreButton__3-ibq\",\"exercises\":\"styles_exercises__33KdV\"};"],"sourceRoot":""}